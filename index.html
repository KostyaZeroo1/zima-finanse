<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–æ–∏ –§–∏–Ω–∞–Ω—Å—ã ‚Ä¢ –ó–∏–º–Ω—è—è –≤–µ—Ä—Å–∏—è 2025</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #e0f7fa;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        /* –ú–µ—Ä—Ü–∞—é—â–∞—è –≥–∏—Ä–ª—è–Ω–¥–∞ */
        .garland-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 80px;
            pointer-events: none;
            z-index: 15;
            overflow: hidden;
        }
        .garland-wire {
            position: absolute;
            top: 40px;
            left: 0;
            width: 100%;
            height: 4px;
            background: #1a3a1a;
            box-shadow: 0 0 10px #0f0;
            z-index: 1;
        }
        .light {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            top: 25px;
            transform: translateY(-50%);
            box-shadow: 0 0 20px 4px currentColor;
            animation: blink 3s infinite;
        }
        .light:nth-child(odd) { animation-duration: 2.5s; }
        .light:nth-child(3n) { animation-duration: 1.8s; }
        .light:nth-child(4n) { animation-duration: 4s; }
        @keyframes blink {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        /* –ü–∞–¥–∞—é—â–∏–π —Å–Ω–µ–≥ */
        .snow { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10;
        }
        header {
            text-align: center;
            padding: 80px 20px 30px;
            background: rgba(0,0,0,0.4);
            position: relative;
            z-index: 20;
        }
        h1 {
            font-size: 3.5rem;
            text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff;
            margin-bottom: 10px;
        }
        nav {
            background: rgba(0,0,0,0.5);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 30;
        }
        nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 20px;
            font-size: 1.2rem;
            padding: 10px 15px;
            border-radius: 10px;
            transition: all 0.3s;
        }
        nav a:hover { background: #00ffff; color: #000; }
        .container {
            max-width: 1100px;
            margin: 40px auto;
            padding: 0 20px;
            position: relative;
            z-index: 11;
        }
        .card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.2);
        }
        input, button, select {
            padding: 12px;
            margin: 8px 0;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
        }
        input, select { background: rgba(255,255,255,0.2); color: white; }
        input::placeholder { color: #bbdefb; }
        button {
            background: #00ffff;
            color: #000;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }
        button:hover { background: #00bfff; transform: scale(1.05); }
        .goal {
            text-align: center;
            font-size: 1.8rem;
            margin: 30px 0;
        }
        .progress-container {
            width: 100%;
            background: rgba(0,0,0,0.3);
            height: 40px;
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00ff00, #00ffff);
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
            font-size: 1.3rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        th { background: rgba(0,255,255,0.2); }
        .delete-btn {
            background: #ff0040;
            padding: 5px 10px;
            font-size: 0.9rem;
        }
        footer {
            text-align: center;
            padding: 40px;
            color: #888;
            font-size: 0.9rem;
        }
        .page { display: none; }
        #home { display: block; }
    </style>
</head>
<body>

<div class="garland-container" id="garland"></div>
<div class="snow"></div>

<header>
    <h1>‚ùÑÔ∏è –ú–æ–∏ –§–∏–Ω–∞–Ω—Å—ã 2025 ‚ùÑÔ∏è</h1>
    <p>–£—á—ë—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ ‚Ä¢ –ó–∏–º–Ω—è—è —Å–∫–∞–∑–∫–∞</p>
</header>

<nav>
    <a href="#home" onclick="showPage('home')">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="#income" onclick="showPage('income')">–î–æ—Ö–æ–¥—ã</a>
    <a href="#expense" onclick="showPage('expense')">–†–∞—Å—Ö–æ–¥—ã</a>
    <a href="#goal" onclick="showPage('goal')">–¶–µ–ª—å</a>
    <a href="#stats" onclick="showPage('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
</nav>

<div class="container">

    <div id="home" class="page">
        <div class="card">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∑–∏–º–Ω–∏–π —Ç—Ä–µ–∫–µ—Ä —Ñ–∏–Ω–∞–Ω—Å–æ–≤!</h2>
            <div class="goal" id="mainGoal">–¶–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</div>
            <div class="progress-container"><div class="progress" id="mainProgress">0%</div></div>
            <p style="text-align:center; margin-top:20px;">
                –ë–∞–ª–∞–Ω—Å: <b id="balance">0 ‚ÇΩ</b><br>
                –û—Ç–ª–æ–∂–µ–Ω–æ: <b id="saved">0 ‚ÇΩ</b>
            </p>
        </div>
    </div>

    <div id="income" class="page">
        <div class="card">
            <h2>üí∞ –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</h2>
            <input type="text" id="incomeDesc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–∑–∞—Ä–ø–ª–∞—Ç–∞, —Ñ—Ä–∏–ª–∞–Ω—Å...)">
            <input type="number" id="incomeAmount" placeholder="–°—É–º–º–∞">
            <button onclick="addIncome()">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</button>

            <h3 style="margin-top:30px">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ—Ö–æ–¥—ã</h3>
            <table id="incomeTable"><tr><th>–î–∞—Ç–∞</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–°—É–º–º–∞</th><th></th></tr></table>
        </div>
    </div>

    <div id="expense" class="page">
        <div class="card">
            <h2>üõí –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h2>
            <input type="text" id="expenseDesc" placeholder="–ù–∞ —á—Ç–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏?">
            <input type="number" id="expenseAmount" placeholder="–°—É–º–º–∞">
            <button onclick="addExpense()">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</button>

            <h3 style="margin-top:30px">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</h3>
            <table id="expenseTable"><tr><th>–î–∞—Ç–∞</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–°—É–º–º–∞</th><th></th></tr></table>
        </div>
    </div>

    <div id="goal" class="page">
        <div class="card">
            <h2>üéØ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ü–µ–ª—å</h2>
            <input type="text" id="goalName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏ (–Ω–æ–≤—ã–π –∞–π—Ñ–æ–Ω, –æ—Ç–ø—É—Å–∫...)">
            <input type="number" id="goalAmount" placeholder="–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å">
            <button onclick="setGoal()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–µ–ª—å</button>

            <div class="goal" id="goalText">–¶–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</div>
            <div class="progress-container"><div class="progress" id="goalProgress">0%</div></div>
            <p style="text-align:center; font-size:1.5rem; margin:20px 0;">
                –û—Ç–ª–æ–∂–µ–Ω–æ: <b id="goalSaved">0 ‚ÇΩ</b> –∏–∑ <b id="goalTotal">0 ‚ÇΩ</b><br>
                –û—Å—Ç–∞–ª–æ—Å—å: <b id="goalLeft">0 ‚ÇΩ</b>
            </p>
            <button onclick="addToSavings()" style="background:#00ff80">–û—Ç–ª–æ–∂–∏—Ç—å —Å –±–∞–ª–∞–Ω—Å–∞</button>
            <input type="number" id="saveAmount" placeholder="–°–∫–æ–ª—å–∫–æ –æ—Ç–ª–æ–∂–∏—Ç—å?" style="width:200px; display:inline-block;">
        </div>
    </div>

    <div id="stats" class="page">
        <div class="card">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <p>–í—Å–µ–≥–æ –¥–æ—Ö–æ–¥–æ–≤: <b id="totalIncome">0 ‚ÇΩ</b></p>
            <p>–í—Å–µ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤: <b id="totalExpense">0 ‚ÇΩ</b></p>
            <p>–ß–∏—Å—Ç—ã–π –±–∞–ª–∞–Ω—Å: <b id="netBalance">0 ‚ÇΩ</b></p>
            <p>–û—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ —Ü–µ–ª—å: <b id="totalSaved">0 ‚ÇΩ</b></p>
        </div>
    </div>

</div>

<footer>
    ¬© 2025 –ó–∏–º–Ω–∏–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä ‚Ä¢ –° –ª—é–±–æ–≤—å—é –∏ —Å–Ω–µ–≥–æ–º ‚ùÑÔ∏è
</footer>

<script>
// –ì–∏—Ä–ª—è–Ω–¥–∞
function createGarland() {
    const container = document.getElementById('garland');
    container.innerHTML = '<div class="garland-wire"></div>';
    const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff8800'];
    const count = Math.floor(window.innerWidth / 35);
    for (let i = 0; i < count; i++) {
        const light = document.createElement('div');
        light.className = 'light';
        const x = (i / count) * 100 + Math.random() * 5 - 2.5 + '%';
        const color = colors[Math.floor(Math.random() * colors.length)];
        const size = Math.random() * 8 + 12 + 'px';
        light.style.left = x;
        light.style.color = color;
        light.style.width = light.style.height = size;
        light.style.animationDelay = Math.random() * 4 + 's';
        container.appendChild(light);
    }
}
createGarland();
window.addEventListener('resize', createGarland);

// –°–Ω–µ–≥
function createSnowflake() {
    const snowflake = document.createElement('div');
    snowflake.style.position = 'absolute';
    snowflake.style.width = snowflake.style.height = Math.random() * 6 + 'px';
    snowflake.style.background = 'white';
    snowflake.style.borderRadius = '50%';
    snowflake.style.opacity = Math.random() * 0.8 + 0.2;
    snowflake.style.left = Math.random() * 100 + 'vw';
    snowflake.style.top = '-10px';
    snowflake.style.animation = `fall ${Math.random() * 10 + 10}s linear forwards`;
    document.querySelector('.snow').appendChild(snowflake);
    setTimeout(() => snowflake.remove(), 20000);
}
setInterval(createSnowflake, 100);
const style = document.createElement('style');
style.innerHTML = `@keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }`;
document.head.appendChild(style);

// –§–∏–Ω–∞–Ω—Å—ã
let data = {
    incomes: [],
    expenses: [],
    goal: { name: "", amount: 0 },
    saved: 0
};
if (localStorage.getItem("financeData")) {
    data = JSON.parse(localStorage.getItem("financeData"));
}
function saveData() {
    localStorage.setItem("financeData", JSON.stringify(data));
    updateAll();
}
function updateAll() {
    const totalIncome = data.incomes.reduce((s, i) => s + i.amount, 0);
    const totalExpense = data.expenses.reduce((s, e) => s + e.amount, 0);
    const balance = totalIncome - totalExpense;
    const saved = data.saved;
    const goal = data.goal.amount;
    const progress = goal > 0 ? (saved / goal) * 100 : 0;

    document.getElementById("balance").textContent = balance.toLocaleString() + " ‚ÇΩ";
    document.getElementById("saved").textContent = saved.toLocaleString() + " ‚ÇΩ";
    document.getElementById("mainGoal").textContent = data.goal.name || "–¶–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞";
    document.getElementById("mainProgress").style.width = progress + "%";
    document.getElementById("mainProgress").textContent = progress.toFixed(1) + "%";

    document.getElementById("goalText").textContent = data.goal.name ? `${data.goal.name} ‚Äî ${goal.toLocaleString()} ‚ÇΩ` : "–¶–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞";
    document.getElementById("goalSaved").textContent = saved.toLocaleString() + " ‚ÇΩ";
    document.getElementById("goalTotal").textContent = goal.toLocaleString() + " ‚ÇΩ";
    document.getElementById("goalLeft").textContent = (goal - saved > 0 ? goal - saved : 0).toLocaleString() + " ‚ÇΩ";
    document.getElementById("goalProgress").style.width = progress + "%";
    document.getElementById("goalProgress").textContent = progress.toFixed(1) + "%";

    document.getElementById("totalIncome").textContent = totalIncome.toLocaleString() + " ‚ÇΩ";
    document.getElementById("totalExpense").textContent = totalExpense.toLocaleString() + " ‚ÇΩ";
    document.getElementById("netBalance").textContent = balance.toLocaleString() + " ‚ÇΩ";
    document.getElementById("totalSaved").textContent = saved.toLocaleString() + " ‚ÇΩ";

    renderTable("incomeTable", data.incomes, true);
    renderTable("expenseTable", data.expenses, false);
}
function renderTable(id, items, isIncome) {
    const table = document.getElementById(id);
    table.innerHTML = `<tr><th>–î–∞—Ç–∞</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–°—É–º–º–∞</th><th></th></tr>`;
    items.slice().reverse().forEach((item, index) => {
        const realIndex = items.length - 1 - index;
        const row = table.insertRow();
        row.innerHTML = `
            <td>${new Date(item.date).toLocaleDateString()}</td>
            <td>${item.desc}</td>
            <td>${isIncome ? "+" : "-"}${item.amount.toLocaleString()} ‚ÇΩ</td>
            <td><button class="delete-btn" onclick="deleteItem(${isIncome ? 'true' : 'false'}, ${realIndex})">√ó</button></td>
        `;
    });
}
function addIncome() {
    const desc = document.getElementById("incomeDesc").value.trim();
    const amount = parseFloat(document.getElementById("incomeAmount").value);
    if (!desc || isNaN(amount) || amount <= 0) return alert("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ");
    data.incomes.push({ desc, amount, date: new Date() });
    document.getElementById("incomeDesc").value = "";
    document.getElementById("incomeAmount").value = "";
    saveData();
}
function addExpense() {
    const desc = document.getElementById("expenseDesc").value.trim();
    const amount = parseFloat(document.getElementById("expenseAmount").value);
    if (!desc || isNaN(amount) || amount <= 0) return alert("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ");
    data.expenses.push({ desc, amount, date: new Date() });
    document.getElementById("expenseDesc").value = "";
    document.getElementById("expenseAmount").value = "";
    saveData();
}
function setGoal() {
    const name = document.getElementById("goalName").value.trim();
    const amount = parseFloat(document.getElementById("goalAmount").value);
    if (!name || isNaN(amount) || amount <= 0) return alert("–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–ª—å");
    data.goal = { name, amount };
    saveData();
}
function addToSavings() {
    const amount = parseFloat(document.getElementById("saveAmount").value);
    if (isNaN(amount) || amount <= 0) return alert("–£–∫–∞–∂–∏—Ç–µ —Å—É–º–º—É");
    const totalIncome = data.incomes.reduce((s,i)=>s+i.amount,0);
    const totalExpense = data.expenses.reduce((s,e)=>s+e.amount,0);
    if (totalIncome - totalExpense < amount) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ!");
    data.saved += amount;
    document.getElementById("saveAmount").value = "";
    saveData();
}
function deleteItem(isIncome, index) {
    if (confirm("–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å?")) {
        if (isIncome) data.incomes.splice(index, 1);
        else data.expenses.splice(index, 1);
        saveData();
    }
}
function showPage(pageId) {
    document.querySelectorAll(".page").forEach(p => p.style.display = "none");
    document.getElementById(pageId).style.display = "block";
}
updateAll();
</script>
</body>
</html>
